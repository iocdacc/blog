{"version":3,"sources":["assets/images/logo.png","store/reducer.js","store/index.js","store/actionCreators.js","components/ArchiveList.js","components/ProjectsList.js","components/ShowText.js","views/Home.js","components/Content.js","components/MenuList.js","components/MenuIcon.js","views/Archive.js","components/Tag.js","views/Archives.js","views/About.js","components/Head.js","components/Foot.js","index.js"],"names":["module","exports","defaultState","shanbayDayData","author","content","translation","archivesListData","archiveContentData","title","date","tag","contentData","src","id","tagData","counter","newState","state","action","type","JSON","parse","stringify","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","archiveContent","dispatch","getState","axios","get","then","res","data","catch","res2","archiveList","list","i","this","props","key","hidden","match","params","page","push","className","to","Component","connect","withRouter","ProjectsList","href","ShowText","changShanbayDay","nextProps","Typed","str","strings","typeSpeed","startDelay","Home","ArchiveList","textLoader","height","primaryColor","secondaryColor","rx","ry","width","x","y","Content","index","document","getElementsByTagName","length","Prism","highlightAll","dangerouslySetInnerHTML","__html","Marked","MenuList","classType","rel","target","MenuIcon","listShow","setState","onClick","setListShow","bind","titleLoader","infoLoader","Archive","aaa","prevState","Tag","v","TagList","Archives","About","path","Head","alt","logoImg","Foot","archivesList","App","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.77d99799.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3a523a21.png\";","const defaultState = {\r\n  shanbayDayData: {\r\n    author: '',\r\n    content: '',\r\n    translation: ''\r\n  },\r\n  archivesListData: '',\r\n  archiveContentData: {\r\n    title: '',\r\n    date: '',\r\n    tag: '',\r\n    contentData: '',\r\n    src: '',\r\n    id: ''\r\n  },\r\n  tagData: ''\r\n};\r\n\r\nfunction counter(state = defaultState, action) {\r\n  var newState;\r\n  switch (action.type) {\r\n    case 'GET_ARCHIVES_LIST':\r\n      newState = JSON.parse(JSON.stringify(state));\r\n      newState.archivesListData = action.archivesListData;\r\n      return newState;\r\n    case 'GET_ARCHIVESCONTENT':\r\n      newState = JSON.parse(JSON.stringify(state));\r\n      newState.archivesListData[action.id].contentData = action.contentData;\r\n      return newState;\r\n    case 'GET_SHANBAYDAY':\r\n      newState = JSON.parse(JSON.stringify(state));\r\n      newState.shanbayDayData = action.shanbayDayData;\r\n      return newState;\r\n    case 'GET_TAG':\r\n      newState = JSON.parse(JSON.stringify(state));\r\n      newState.tagData = action.tagData;\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default counter;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducer from './reducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(\r\n\tapplyMiddleware(thunk)\r\n));\r\n\r\nexport default store;","import axios from 'axios';\r\nimport store from 'store';\r\n\r\nexport const archivesList = (data = '') => {\r\n  return dispatch => {\r\n    if (!data) {\r\n      axios.get('/md/config/pages.json').then(res => {\r\n        if (res.data) {\r\n          dispatch({\r\n            type: 'GET_ARCHIVES_LIST',\r\n            archivesListData: res.data\r\n          });\r\n        }\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const archiveContent = id => {\r\n  return dispatch => {\r\n    if (store.getState().archivesListData) {\r\n      let archivesListData = store.getState().archivesListData;\r\n      axios\r\n        .get(archivesListData[id].src)\r\n        .then(res => {\r\n          if (res.data) {\r\n            dispatch({\r\n              type: 'GET_ARCHIVESCONTENT',\r\n              id: id,\r\n              contentData: res.data\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n\r\n        });\r\n    } else {\r\n      axios.get('/md/config/pages.json').then(res => {\r\n        if (res.data) {\r\n          dispatch({\r\n            type: 'GET_ARCHIVES_LIST',\r\n            archivesListData: res.data\r\n          });\r\n          axios.get(res.data[id].src).then(res2 => {\r\n            if (res2.data) {\r\n              dispatch({\r\n                type: 'GET_ARCHIVESCONTENT',\r\n                id: id,\r\n                contentData: res2.data\r\n              });\r\n            }\r\n          })\r\n          .catch(() => {\r\n\r\n          });\r\n        }\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getShanbayDay = () => {\r\n  return dispatch => {\r\n    if (!store.getState().shanbayDayData.content) {\r\n      dispatch({\r\n        type: 'GET_SHANBAYDAY',\r\n        shanbayDayData: {\r\n          author: 'Marilyn Ferguson',\r\n          content: 'Your past is not your potential. In any hour you can choose to liberate the future.',\r\n          translation: '你的潜力不在于过去，你随时都可以去解放未来。'\r\n        }\r\n      });\r\n      //因为扇贝没开放数据 前端无法访问此API  等以后有我服务器了再做打算 上面先用静态的\r\n      // axios.get('https://rest.shanbay.com/api/v2/quote/quotes/today/').then(res => {\r\n      //   if (res.data) {\r\n      //     dispatch({\r\n      //       type: 'GET_SHANBAYDAY',\r\n      //       shanbayDayData: {\r\n      //         author: res.data.author,\r\n      //         content: res.data.content,\r\n      //         translation: res.data.translation\r\n      //       }\r\n      //     });\r\n      //   }\r\n      // });\r\n    }\r\n  };\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass archiveList extends Component {\r\n  render() {\r\n    let list = [];\r\n    let i = 0;\r\n    if (this.props.archivesListData) {\r\n      for (const key in this.props.archivesListData) {\r\n        let res = this.props.archivesListData[key];\r\n        if (!res.hidden) {\r\n          if (res.tag == this.props.match.params.tag || !this.props.match.params.tag) {\r\n            if (i >= this.props.page && this.props.page) break;\r\n            i++;\r\n\r\n            list.push(\r\n              <li key={key}>\r\n                <span className=\"date\">{res.date}</span>\r\n                <span className=\"title\">\r\n                  <Link to={'/archive/' + key}>{res.title}</Link>\r\n                </span>\r\n              </li>\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"m-list clear\">\r\n        <ul>{list}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    archivesListData: state.archivesListData\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(archiveList));\r\n","import React, { Component } from 'react';\r\n\r\nclass ProjectsList extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"m-list m-list2 clear\">\r\n        <ul>\r\n          <li>\r\n            <span className=\"title\">\r\n              <a href=\"\">vsPlayAudio</a>:\r\n            </span>\r\n            <span className=\"explain\">美观的音乐播放器</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProjectsList;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Typed from 'typed.js';\r\nimport { getShanbayDay } from 'store/actionCreators';\r\n\r\nclass ShowText extends Component {\r\n  componentDidMount() {\r\n    this.props.changShanbayDay();\r\n    this.props.shanbayDayData.content && this.ShowText(this.props.shanbayDayData);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    return JSON.stringify(this.props) == JSON.stringify(nextProps) ? false : true;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.props.shanbayDayData.content && this.ShowText(this.props.shanbayDayData);\r\n  }\r\n\r\n  ShowText(data) {\r\n    if (!this.Typed) {\r\n      let str = data.content + '<br/>';\r\n      str += data.translation + '<br/>';\r\n      this.Typed = new Typed('.m-showText span', {\r\n        strings: [str + '--- Who??^1000', str + '--- It\\'s me^2000', str + '--- Haha, make a joke', str + '--- ' + data.author],\r\n        typeSpeed: 20,\r\n        startDelay: 300\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"m-showText\">\r\n        <span></span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = state => ({\r\n  shanbayDayData: state.shanbayDayData\r\n});\r\n\r\nconst mapDispatch = dispatch => ({\r\n  changShanbayDay() {\r\n    dispatch(getShanbayDay());\r\n  }\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(ShowText);\r\n","import React, { Component } from 'react';\r\nimport ArchiveList from 'components/ArchiveList';\r\nimport ProjectsList from 'components/ProjectsList';\r\nimport ShowText from 'components/ShowText';\r\n\r\nclass Home extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"g-main\">\r\n        <ShowText />\r\n        <div className=\"m-counting\">\r\n          <ul className=\"clear\">\r\n            <li>\r\n              <i className=\"m-icon m-icon-eye\"></i>\r\n              <span>555555</span>\r\n            </li>\r\n            <li>\r\n              Find me on <i className=\"m-icon m-icon-github\"></i>.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"m-title m-titleList\">\r\n          <span className=\"title\">\r\n            <a href=\"\">Archives</a>\r\n          </span>\r\n        </div>\r\n        <ArchiveList page={12} />\r\n        <div className=\"m-title m-titleList\">\r\n          <span className=\"title\">\r\n            <a href=\"\">Projects</a>\r\n          </span>\r\n        </div>\r\n        <ProjectsList />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport Prism from 'prismjs';\r\nimport Marked from 'marked';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nlet textLoader = (\r\n  <ContentLoader height={'800'} primaryColor={'#1d1f21'} secondaryColor={'#272727'}>\r\n    <rect height=\"800\" rx=\"0\" ry=\"0\" width=\"100%\" x=\"0\" y=\"0\" />\r\n  </ContentLoader>\r\n);\r\n\r\nclass Content extends Component {\r\n  componentDidMount() {\r\n    for (let index = 0; index < document.getElementsByTagName('pre').length; index++) {\r\n      document.getElementsByTagName('pre')[index].className = 'line-numbers';\r\n    }\r\n    Prism.highlightAll();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    for (let index = 0; index < document.getElementsByTagName('pre').length; index++) {\r\n      document.getElementsByTagName('pre')[index].className = 'line-numbers';\r\n    }\r\n    Prism.highlightAll();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"content\">{this.props.data ? <div dangerouslySetInnerHTML={{ __html: Marked(this.props.data) }}></div> : textLoader}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Content;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass MenuList extends Component {\r\n  render() {\r\n    return (\r\n      /* this.props.classType: m-menu 菜单公共样式 */\r\n      /* this.props.classType: m-menuFoot 尾部灰色的菜单 */\r\n      <div className={'m-menu ' + this.props.classType}>\r\n        <ul className=\"clear\">\r\n          <li>\r\n            <Link to=\"/\">Home</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/archives\">Archives</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/snippet\">Snippet</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/about\">About</Link>\r\n          </li>\r\n          <li>\r\n            <a href=\"https://github.com/iocdacc\" rel=\"noopener noreferrer\" target=\"_blank\">Github</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuList;\r\n","import React, { Component } from 'react';\r\nimport MenuList from 'components/MenuList';\r\n\r\nclass MenuIcon extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listShow: true\r\n    };\r\n  }\r\n\r\n  setListShow(){\r\n    this.setState({\r\n      listShow: !this.state.listShow ? true : false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <i className=\"m-icon m-icon-menu\"\r\n            onClick={this.setListShow.bind(this)}\r\n        ></i>\r\n        {!this.state.listShow ? '' : <MenuList classType=\"m-menuIcon\" />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuIcon;","import React, { Component } from 'react';\r\nimport Content from 'components/Content';\r\nimport MenuIcon from 'components/MenuIcon';\r\nimport { connect } from 'react-redux';\r\nimport { archiveContent } from 'store/actionCreators';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nlet titleLoader = (\r\n  <ContentLoader height={'18'} primaryColor={'#1d1f21'} secondaryColor={'#272727'}>\r\n    <rect height=\"18\" rx=\"0\" ry=\"0\" width=\"100%\" x=\"0\" y=\"0\" />\r\n  </ContentLoader>\r\n);\r\n\r\nlet infoLoader = (\r\n  <ContentLoader height={'18'} primaryColor={'#1d1f21'} secondaryColor={'#272727'}>\r\n    <rect height=\"12\" rx=\"0\" ry=\"0\" width=\"50\" x=\"0\" y=\"0\" />\r\n    <rect height=\"12\" rx=\"0\" ry=\"0\" width=\"50\" x=\"60\" y=\"0\" />\r\n    <rect height=\"12\" rx=\"0\" ry=\"0\" width=\"50\" x=\"120\" y=\"0\" />\r\n  </ContentLoader>\r\n);\r\n\r\nclass Archive extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      aaa: 1\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.archiveContent(this.props.match.params.id);\r\n  }\r\n\r\n  componentDidUpdate(prevState){\r\n    /**\r\n     * 这个页面在仅修改get参数时不会重新渲染，因为URL没有改变\r\n     * 导致通过修改get参数显示的还是原来的文章，\r\n     * 正常情况在组件上设置动态KEY就能解决\r\n     * 但第一层组件没有找到定义动态KEY的方法，\r\n     * 只能在这里修改state来重新渲染组件，\r\n     * 但在更新阶段修改state有风险（可能导致死循环，修改state之后又会触发componentDidUpdate这个生命周期），\r\n     * 暂未找到更好的办法。\r\n     * 最好不要在第一层页面取数据，这里主要是因为没有数据库，如果放组件里取会重复发很多AJAX\r\n     */\r\n    JSON.stringify(this.props.match.params) !== JSON.stringify(prevState.match.params) && this.props.archiveContent(this.props.match.params.id);\r\n  }\r\n\r\n  render() {\r\n    if (this.props.archivesListData && this.props.archivesListData[this.props.match.params.id].contentData) {\r\n      return (\r\n        <div>\r\n          <div className=\"g-main\">\r\n            <div className=\"m-article\">\r\n              <h1 className=\"title\">{this.props.archivesListData[this.props.match.params.id].title}</h1>\r\n              <div className=\"info\">\r\n                <span>{this.props.archivesListData[this.props.match.params.id].date}</span>\r\n                <span>495</span>\r\n                <span>{this.props.archivesListData[this.props.match.params.id].tag}</span>\r\n              </div>\r\n              <Content data={this.props.archivesListData[this.props.match.params.id].contentData}/>\r\n            </div>\r\n          </div>\r\n          <div className=\"g-topRightFixed\">\r\n            <MenuIcon />\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div className=\"g-main\">\r\n            <div className=\"m-article\">\r\n              <h1 className=\"title\">{titleLoader}</h1>\r\n              <div className=\"info\">\r\n                {infoLoader}\r\n              </div>\r\n              <Content data=\"\"/>\r\n            </div>\r\n          </div>\r\n          <div className=\"g-topRightFixed\">\r\n            <MenuIcon />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    archivesListData: state.archivesListData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    archiveContent: id => {\r\n      dispatch(archiveContent(id));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Archive));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Tag extends Component {\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    //通过文章列表信息读取并重组标签\r\n    let tagData = {};\r\n    let v = this.props.archivesListData;\r\n    for (const key in v) {\r\n      if (!v[key].hidden) {\r\n        tagData[v[key].tag] ? (tagData[v[key].tag] += 1) : (tagData[v[key].tag] = 1);\r\n        tagData[v[key].tag] > 7 && (tagData[v[key].tag] = 7);\r\n      }\r\n    }\r\n    let TagList = [];\r\n    for (const key in tagData) {\r\n      TagList.push(\r\n        <li className={'level' + tagData[key]} key={key}>\r\n          <Link to={'/archives/'+key}>{key}</Link>\r\n        </li>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"m-tag clear\">\r\n        <ul>{TagList}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    archivesListData: state.archivesListData\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Tag);\r\n","import React, { Component } from 'react';\r\nimport Tag from 'components/Tag';\r\nimport ArchiveList from 'components/ArchiveList';\r\n\r\nclass Archives extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"g-main\">\r\n          <Tag />\r\n          {/* <div className=\"m-title m-titleArchives\">\r\n            <span className=\"title\">\r\n              <a href=\"\">2019</a>\r\n            </span>\r\n          </div> */}\r\n          <ArchiveList />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Archives;\r\n","import React, { Component } from 'react';\r\nimport Content from 'components/Content';\r\nimport { connect } from 'react-redux';\r\nimport { archiveContent } from 'store/actionCreators';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass About extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    switch (this.props.match.path) {\r\n      case '/snippet':\r\n        this.state = {id: 'snippet'};\r\n        break;\r\n\r\n      default:\r\n        this.state = {id: 'about'};\r\n        break;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.archiveContent(this.state.id);\r\n  }\r\n\r\n  render() {\r\n    if (this.props.archivesListData && this.props.archivesListData[this.state.id].contentData) {\r\n      return (\r\n        <div>\r\n          <div className=\"g-main\">\r\n            <div className=\"m-article\">\r\n              <Content data={this.props.archivesListData[this.state.id].contentData} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div className=\"g-main\">\r\n            <div className=\"m-article\">\r\n              <div className=\"content\">\r\n                <Content data=\"\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    archivesListData: state.archivesListData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    archiveContent: id => {\r\n      dispatch(archiveContent(id));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(About));\r\n","import React, { Component } from 'react';\r\nimport logoImg from 'assets/images/logo.png';\r\nimport MenuList from 'components/MenuList';\r\n\r\nclass Head extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.title = 'Iocdacc';\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={'g-main g-mainHead clear'}>\r\n        <div className=\"m-logo\">\r\n          <img alt=\"\" src={logoImg} />\r\n        </div>\r\n        <div className=\"m-title\">\r\n          <h1 className=\"title\">{!this.props.title ? this.title : this.props.title}</h1>\r\n          <div></div>\r\n        </div>\r\n        <MenuList />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Head;\r\n","import React, { Component } from 'react';\r\nimport MenuList from 'components/MenuList';\r\n\r\nclass Foot extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"g-main g-mainFoot clear\">\r\n        <MenuList classType=\"m-menuFoot\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Foot;\r\n","import React, { Component } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport store from 'store';\r\nimport { archivesList } from 'store/actionCreators';\r\n/**\r\n * @description: 全局样式\r\n * @return:\r\n */\r\nimport 'assets/css/reset.css';\r\nimport 'assets/css/style.css';\r\n/**\r\n * @description: 路由组件\r\n * @return: 标准React组件\r\n */\r\nimport Home from 'views/Home';\r\nimport Archive from 'views/Archive';\r\nimport Archives from 'views/Archives';\r\nimport About from 'views/About';\r\nimport Head from 'components/Head';\r\nimport Foot from 'components/Foot';\r\n\r\n//文章列表包含了整个博客的核心数据所以初始化时就读取\r\nstore.dispatch(archivesList(store.getState().archivesListData));\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\"><Head/><Home/></Route>\r\n            <Route exact path=\"/archive/:id\"><Archive /></Route>\r\n            <Route exact path=\"/archives/:tag\"><Head title=\"Archives\" /><Archives/></Route>\r\n            <Route exact path=\"/archives\"><Head title=\"Archives\" /><Archives/></Route>\r\n            <Route exact path=\"/snippet\"><Head title=\"Snippet\" /><About key=\"snippet\" /></Route>\r\n            <Route exact path=\"/about\"><Head title=\"About\" /><About key=\"about\" /></Route>\r\n            <Route>404</Route>\r\n          </Switch>\r\n          <Foot />\r\n        </Router>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}